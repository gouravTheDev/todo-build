(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{34:function(e,t,a){e.exports=a(48)},36:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a(18),o=a(6),l=(a(36),"https://bogo-todo.herokuapp.com/api"),i=a(2),u=a.n(i),m=a(7),p=a(21),d=new p.a,f=function(){var e=d.get("token");return e||!1},h=function(e,t){return e.location.pathname===t?{color:"#2ecc72"}:{color:"#FFFFFF"}},b=Object(s.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-dark"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:h(t,"/"),className:"nav-link",to:"/"},"Home")),f()&&f()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:h(t,"/user/todos"),className:"nav-link",to:"/user/todo"},"Todos")),!f()&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:h(t,"/signup"),className:"nav-link",to:"/signup"},"Signup")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:h(t,"/signin"),className:"nav-link",to:"/signin"},"Sign In"))),f()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link text-warning",onClick:function(){!function(e){var t=d.get("token");if(t&&""!=t)d.remove("token",{path:"/"}),e(),fetch("".concat(l,"/user/logout"),{method:"GET"}).then((function(e){return console.log("signout success")})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))}},"Signout"))))})),v=function(e){var t=e.title,a=void 0===t?"My Title":t,n=(e.description,e.className),c=void 0===n?"pt-4":n,s=e.children;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center"},a),r.a.createElement("div",{className:c},s)),r.a.createElement("footer",{className:"footer mt-auto"}))};function E(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2);t[0],t[1];return r.a.createElement(v,{title:"Home Page",description:"Welcome to the Tshirt Store"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("h1",{className:"text-white"},"All of tshirts"),r.a.createElement("div",{className:"row"})))}var g=a(19),N=a(16),x=function(){var e=Object(n.useState)({name:"",email:"",phone:"",password:"",error:"",success:!1}),t=Object(o.a)(e,2),a=t[0],s=t[1],i=a.name,u=a.email,m=a.phone,p=a.password,d=a.error,f=a.success,h=function(e){return function(t){s(Object(N.a)({},a,Object(g.a)({error:!1},e,t.target.value)))}},b=function(e){var t;e.preventDefault(),s(Object(N.a)({},a,{error:!1})),(t={name:i,email:u,phone:m,password:p},fetch("".concat(l,"/user/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?s(Object(N.a)({},a,{error:e.error,success:!1})):s(Object(N.a)({},a,{name:"",email:"",phone:"",password:"",error:"",success:!0}))})).catch(console.log("Error in signup"))};return r.a.createElement(v,{title:"Sign up page",description:"A page for user to sign up!"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-success",style:{display:f?"":"none"}},"New account was created successfully. Please",r.a.createElement(c.b,{to:"/signin"},"Login Here")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:d?"":"none"}},d))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Name"),r.a.createElement("input",{className:"form-control",onChange:h("name"),type:"text",value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{className:"form-control",onChange:h("email"),type:"email",value:u})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Phone"),r.a.createElement("input",{className:"form-control",onChange:h("phone"),type:"number",value:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{onChange:h("password"),className:"form-control",type:"password",value:p})),r.a.createElement("button",{onClick:b,className:"btn btn-success btn-block"},"Submit")))),r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(a)))},j=function(){var e=Object(n.useState)({phone:"",password:"",error:"",loading:!1,didRedirect:!1}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=a.phone,p=a.password,h=a.error,b=a.loading,E=a.didRedirect,x=(f().user,function(e){return function(t){c(Object(N.a)({},a,Object(g.a)({error:!1},e,t.target.value)))}}),j=function(e){e.preventDefault(),c(Object(N.a)({},a,{error:!1,loading:!0})),function(e){return fetch("".concat(l,"/user/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}({phone:i,password:p}).then((function(e){201==e.status?c(Object(N.a)({},a,{error:e.message,loading:!1})):function(e,t){"undefined"!==typeof window&&(d.set("token",e.token,{path:"/"}),t())}(e,(function(){c(Object(N.a)({},a,{didRedirect:!0}))}))}))};return r.a.createElement(v,{title:"Sign In page",description:"A page for user to sign in!"},b&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:h?"":"none"}},h))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Phone"),r.a.createElement("input",{onChange:x("phone"),value:i,className:"form-control",type:"number",placeholder:"Enter Phone Number"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{onChange:x("password"),value:p,className:"form-control",type:"password",placeholder:"Enter Password"})),r.a.createElement("button",{onClick:j,className:"btn btn-success btn-block"},"Submit")))),E?r.a.createElement(s.a,{to:"/user/todo"}):f()?r.a.createElement(s.a,{to:"/"}):void 0,r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(a)))},k=a(30),y=function(e){var t=e.component,a=Object(k.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return f()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},w=a(52),O=a(51),S=a(31),C=new function e(){Object(S.a)(this,e),this.createProject=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/category/store"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify({category:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),this.createTask=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/todo/store"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify({title:a,category:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),this.updateTask=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.todoId=a,e.next=4,fetch("".concat(l,"/todo/update"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),this.updateProject=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.categoryId=a,e.next=4,fetch("".concat(l,"/category/update"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),this.fetchProjects=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/category/list"),{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t}});case 3:return a=e.sent,e.next=6,a.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.fetchTasks=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/todo/list/").concat(a),{headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":t}});case 3:return n=e.sent,e.next=6,n.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},T=a(32),P=a.n(T),A=new p.a,D=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(o.a)(s,2),i=l[0],p=l[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),h=f[0],b=f[1],E=Object(n.useState)(!1),g=Object(o.a)(E,2),N=g[0],x=g[1],j=Object(n.useState)(""),k=Object(o.a)(j,2),y=k[0],S=k[1],T=Object(n.useState)(""),D=Object(o.a)(T,2),J=D[0],_=D[1],F=Object(n.useState)(""),H=Object(o.a)(F,2),B=H[0],I=H[1],R=Object(n.useState)(""),L=Object(o.a)(R,2),Y=L[0],z=L[1],M=Object(n.useState)({}),q=Object(o.a)(M,2),G=q[0],U=q[1],W=Object(n.useState)([]),K=Object(o.a)(W,2),Q=K[0],V=K[1],X=Object(n.useState)([]),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee([]),U({}),_(""),a={},Q.map((function(e){e._id.toString()==t.toString()&&(U(e),a=e)})),console.log(t),n=A.get("token"),e.next=9,C.fetchTasks(n,t);case 9:200==(r=e.sent).status&&ee(r.data),""!=a.details&&a.details?(_(a.details),b(!1),x(!0)):(b(!0),x(!1)),p(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ae(){return ne.apply(this,arguments)}function ne(){return(ne=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.get("token"),I(t),e.next=4,C.fetchProjects(t);case 4:a=e.sent,console.log(a.data),V(a.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){ae()}),[]);var re=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Q,""!=Y){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.createProject(B,Y);case 6:if(200!=(n=e.sent).status){e.next=11;break}a.push(n.data),e.next=12;break;case 11:return e.abrupt("return");case 12:V(a),z(""),ae();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=$,[],""!=y){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,C.createTask(B,y,G._id);case 7:if(n=e.sent,console.log(n),200!=n.status){e.next=13;break}a.push(n.data),e.next=14;break;case 13:return e.abrupt("return");case 14:ee(a),S(""),ae();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $,e.next=3,C.updateTask(B,t,a);case 3:if(n=e.sent,console.log(n),200!=n.status){e.next=9;break}ee(n.data),e.next=10;break;case 9:return e.abrupt("return");case 10:ae();case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $,e.next=3,C.updateTask(B,t,{isDeleted:!0});case 3:if(200!=(a=e.sent).status){e.next=8;break}ee(a.data),e.next=9;break;case 8:return e.abrupt("return");case 9:ae();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Delete the Project?")){e.next=11;break}return p(!1),e.next=4,C.updateProject(B,t,{isDeleted:!0});case 4:if(200!=(a=e.sent).status){e.next=9;break}V(a.data),e.next=10;break;case 9:return e.abrupt("return");case 10:ae();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=J){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,C.updateProject(B,G._id,{details:J});case 5:if(a=e.sent,console.log(a),200!=a.status){e.next=11;break}U(a.data),e.next=12;break;case 11:return e.abrupt("return");case 12:_(""),ae();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e,t){var a=t.checked,n={};return n.done=!a,r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input custom-check",defaultChecked:a,onChange:function(){return se(e,n)}}))};return r.a.createElement(v,{title:"Listed Projects"},r.a.createElement("div",{className:"text-center"},r.a.createElement(w.a,{variant:"primary",onClick:function(){return c(!0)},id:"addProjectButton",className:"shadow",style:{borderRadius:"50%"},title:"Add New Project"},r.a.createElement("i",{className:"fa fa-plus",id:"plusIcon"}))),r.a.createElement("div",{className:"row"},Q.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-md-3 col-sm-12 mb-3"},r.a.createElement("div",{className:"card-cus shadow",style:{cursor:"pointer"},onClick:function(){return te(e._id)}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{style:{color:"#000"},className:"text-center font-weight-bold"},e.category),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"pt-3",style:{position:"",bottom:"2px",left:"30px"}},r.a.createElement("span",{style:{color:"#9E9EA1"}},r.a.createElement("i",{className:"far fa-check-square"})," ",e.doneTaskCount,"/",e.allTaskCount))),r.a.createElement("div",{className:"col-8 text-right",style:{position:"",bottom:"2px",right:"5px"}},r.a.createElement("div",{className:"pt-3",style:{position:"",bottom:"2px",right:"30px"}},r.a.createElement("span",{style:{color:"#9E9EA1"}},r.a.createElement("i",{className:"far fa-clock"})," ",P()(e.createdAt).format("DD/MM/YYYY"))))))))}))),r.a.createElement(O.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:i,onHide:function(){return p(!1)}},r.a.createElement(O.a.Header,{closeButton:!0},r.a.createElement(O.a.Title,{className:"font-weight-bold"},G.category," ",r.a.createElement("button",{className:"btn btn-sm btn-danger ml-4",style:{height:"35px",width:"35px",borderRadius:"50%"},title:"Delete",type:"button",onClick:function(){return le(G._id)}},r.a.createElement("i",{className:"fas fa-trash"})))),r.a.createElement(O.a.Body,null,r.a.createElement("div",{className:"container row px-4 py-4"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("h5",{className:"mb-3 font-weight-bold"},r.a.createElement("i",{className:"fas fa-check-square"})," Project Details")," ",r.a.createElement("hr",null),r.a.createElement("p",{style:{fontSize:"1.2em"}},G.details),r.a.createElement("div",{className:N?"":"hidden"},r.a.createElement("button",{className:"btn btn-sm btn-warning",onClick:function(){b(!0),x(!1)},style:{height:"32px",width:"32px",borderRadius:"50%"}},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement("form",{className:h?"":"hidden"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",value:J,onChange:function(e){_(e.target.value)},placeholder:"Update Project Details",rows:"3"})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{className:"btn btn-success shadow",onClick:ie},"Save"))))),r.a.createElement("div",{className:"container row px-4 py-4"},r.a.createElement("div",{className:"col-12 text-left"},r.a.createElement("h5",{className:"mb-3 font-weight-bold"},r.a.createElement("i",{className:"fas fa-tasks"})," Task List"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-12"},$.map((function(e){return r.a.createElement("div",{className:"row mb-3",key:e._id},r.a.createElement("div",{className:"col-1 text-right"},e.done?ue(e._id,{checked:!0}):ue(e._id,{checked:!1})),r.a.createElement("div",{className:"col-8 text-left"},r.a.createElement("span",{className:e.done?"text-strike":""},e.title)),r.a.createElement("div",{className:"col-2 text-right"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:function(){return oe(e._id)}},r.a.createElement("i",{className:"fa fa-trash"}))))})))),r.a.createElement("form",null,r.a.createElement("div",{className:"container row pb-4"},r.a.createElement("div",{className:"col-md-10 col-sm-12 mx-auto mb-3"},r.a.createElement("input",{onChange:function(e){S(e.target.value)},value:y,className:"form-control",type:"text",placeholder:"Enter Task Name"})),r.a.createElement("div",{className:"col-md-2 col-sm-12 mx-auto text-right"},r.a.createElement("button",{onClick:ce,className:"btn btn-success shadow"},"Add Task")))))),r.a.createElement(O.a,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:a,onHide:function(){return c(!1)}},r.a.createElement(O.a.Header,{closeButton:!0},r.a.createElement(O.a.Title,null,"Create New Project")),r.a.createElement(O.a.Body,null,r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-sm-12 mx-auto mb-3"},r.a.createElement("input",{onChange:function(e){z(e.target.value)},value:Y,className:"form-control",type:"text",placeholder:"Enter Project Name"})),r.a.createElement("div",{className:"col-md-12 col-sm-12 mx-auto text-right"},r.a.createElement("button",{onClick:re,className:"btn btn-success"},"Submit")))))))},J=function(){return r.a.createElement(c.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:E}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:x}),r.a.createElement(s.b,{path:"/signin",exact:!0,component:j}),r.a.createElement(y,{path:"/user/todo",exact:!0,component:D})))},_=a(17);a.n(_).a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.896884ed.chunk.js.map